

<button (click)="saveFile()"></button>
<button (click)="ffmpeg.listDevices()">List</button>

<br>
Video Devices
<ul>
  <li *ngFor="let videoDevice of ffmpeg.videoDevices" (click)="videoDevice.selected=!videoDevice.selected">
    {{videoDevice.name}} <span *ngIf="videoDevice.selected"> Selected</span>
  </li>
</ul>

Audio Devices
<ul>
  <li *ngFor="let audioDevice of ffmpeg.audioDevices" (click)="audioDevice.selected=!audioDevice.selected">
    {{audioDevice.name}} <span *ngIf="audioDevice.selected"> Selected</span>
  </li>
</ul>

Recordings
<ul>
  <li *ngFor="let recording of ffmpeg.recordings" >
   {{recording}}
    <button (click)="ffmpeg.getMetadata(recording)">Metadata</button>
    <button (click)="ffmpeg.getKeyframes(recording)">Keyframes</button>
    <button (click)="video.src='http://localhost:4000/'+recording.split('/')[recording.split('/').length-1]">Play</button>
  </li>
</ul>


Videos
<ul>
  <li *ngFor="let v of ffmpeg.videos" >
    {{v.file}}
    <button (click)="video.src='http://localhost:4000/'+v.file.split('/')[v.file.split('/').length-1]">Play</button>
  </li>
</ul>





<video #video width="300"></video>
<button (click)="ffmpeg.startRecording()">Record</button>
<button (click)="ffmpeg.stopRecording()">Stop</button>
